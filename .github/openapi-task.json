{
  "openapi": "3.1.0",
  "info": {
    "title": "Pinit Task API",
    "description": "일정/작업 관리와 의존 관계 기능을 제공하는 API",
    "contact": {
      "name": "Pinit Team",
      "email": "support@pinit.local"
    },
    "version": "v2.1-timezone"
  },
  "servers": [
    {
      "url": "http://localhost:8080",
      "description": "Local"
    },
    {
      "url": "https://api.pinit.go-gradually.me",
      "description": "Production"
    }
  ],
  "tags": [
    {
      "name": "StatisticsV2",
      "description": "통계 조회 API"
    },
    {
      "name": "MemberV1",
      "description": "회원 관련 정보 API (v1)"
    },
    {
      "name": "ScheduleV2",
      "description": "일정 관리 API"
    },
    {
      "name": "Member",
      "description": "회원 관련 정보 API"
    },
    {
      "name": "MemberV2",
      "description": "회원 관련 정보 API (v1)"
    },
    {
      "name": "TaskV2",
      "description": "작업 관리 API (마감 날짜 + IANA 시간대 기반). 클라이언트는 로컬 날짜와 IANA `zoneId`를 보내고, 필요 시 해당 날짜의 offset을 함께 전달합니다."
    }
  ],
  "paths": {
    "/v2/tasks": {
      "get": {
        "tags": [
          "TaskV2"
        ],
        "summary": "작업 목록 조회",
        "description": "회원의 작업 목록을 조회합니다.\n포함 대상: 미완료 작업 전체 + 오늘(회원 IANA 시간대 기준) 이후 또는 오늘 마감인 완료 작업.\n정렬: 마감일 오름차순, page/size 페이징.\nreadyOnly=true면 선행 작업 없는 미완료 작업만 필터링합니다.\n",
        "operationId": "getTasks",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            }
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "readyOnly",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "작업 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageTaskResponseV2"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "TaskV2"
        ],
        "summary": "작업 생성",
        "description": "새 작업과 의존 관계를 등록합니다. 마감은 '사용자 로컬 날짜 + IANA `zoneId`(00:00 고정)'로 입력합니다. `offset`은 해당 날짜의 DST 오프셋을 함께 명시하고 싶을 때만 추가로 전달하세요.",
        "operationId": "createTask",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskCreateRequestV2"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "작업이 생성되었습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponseV2"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/tasks/{taskId}/schedules": {
      "post": {
        "tags": [
          "TaskV2"
        ],
        "summary": "작업을 일정으로 등록",
        "description": "기존 작업을 지정한 시간의 일정으로 복사합니다.",
        "operationId": "createScheduleFromTask",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskScheduleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "작업이 일정으로 등록되었습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleSimpleResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/tasks/{taskId}/reopen": {
      "post": {
        "tags": [
          "TaskV2"
        ],
        "summary": "작업 되돌리기",
        "description": "작업을 미완료 상태로 되돌립니다.",
        "operationId": "reopenTask",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "작업이 되돌려졌습니다."
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/tasks/{taskId}/complete": {
      "post": {
        "tags": [
          "TaskV2"
        ],
        "summary": "작업 완료",
        "description": "작업을 완료 상태로 변경합니다.",
        "operationId": "completeTask",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "작업이 완료되었습니다."
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/schedules": {
      "get": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "일정 목록 조회 (작업 없이)",
        "description": "지정한 날짜의 일정을 조회합니다.",
        "operationId": "getSchedules",
        "parameters": [
          {
            "name": "time",
            "in": "query",
            "description": "사용자 로컬 시각. 반드시 TZ 없이 직렬화한 LocalDateTime 사용 금지 — 아래 zoneId와 함께 보낸다.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2026-02-01T09:00:00"
          },
          {
            "name": "zoneId",
            "in": "query",
            "description": "IANA 시간대 ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Asia/Seoul"
          }
        ],
        "responses": {
          "200": {
            "description": "일정 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ScheduleSimpleResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "일정 생성 (작업 없이)",
        "description": "작업과 연결하지 않는 단순 일정을 등록합니다.",
        "operationId": "createSchedule",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduleSimpleRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "일정이 생성되었습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleSimpleResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/schedules/{scheduleId}/suspend": {
      "post": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "일정 일시중지 (작업 없이)",
        "operationId": "suspendSchedule",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "time",
            "in": "query",
            "description": "사용자 로컬 시각",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2026-02-01T11:00:00"
          },
          {
            "name": "zoneId",
            "in": "query",
            "description": "IANA 시간대 ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Asia/Seoul"
          }
        ],
        "responses": {
          "204": {
            "description": "일정이 일시중지되었습니다."
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/schedules/{scheduleId}/start": {
      "post": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "일정 시작 (작업 없이)",
        "operationId": "startSchedule",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "time",
            "in": "query",
            "description": "사용자 로컬 시각",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2026-02-01T09:00:00"
          },
          {
            "name": "zoneId",
            "in": "query",
            "description": "IANA 시간대 ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Asia/Seoul"
          }
        ],
        "responses": {
          "204": {
            "description": "일정이 시작되었습니다."
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/schedules/{scheduleId}/complete": {
      "post": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "일정 완료 (작업 없이)",
        "operationId": "completeSchedule",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "time",
            "in": "query",
            "description": "사용자 로컬 시각",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2026-02-01T10:30:00"
          },
          {
            "name": "zoneId",
            "in": "query",
            "description": "IANA 시간대 ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "Asia/Seoul"
          }
        ],
        "responses": {
          "204": {
            "description": "일정이 완료되었습니다."
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/schedules/{scheduleId}/cancel": {
      "post": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "일정 취소 (작업 없이)",
        "operationId": "cancelSchedule",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "일정이 취소되었습니다."
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/tasks/{taskId}": {
      "get": {
        "tags": [
          "TaskV2"
        ],
        "summary": "작업 단건 조회",
        "description": "특정 작업의 상세 정보를 조회합니다.",
        "operationId": "getTask",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "작업 단건 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponseV2"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "TaskV2"
        ],
        "summary": "작업 삭제",
        "description": "작업과 그 작업에 관련된 의존 관계를 삭제합니다.",
        "operationId": "deleteTask",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "deleteSchedules",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "204": {
            "description": "작업이 삭제되었습니다."
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "TaskV2"
        ],
        "summary": "작업 수정",
        "description": "작업 본문과 의존 관계를 함께 수정합니다. 마감 날짜는 '로컬 날짜 + IANA `zoneId`(00:00:00)' 기준으로 저장하며, 전달된 `offset`이 있으면 해당 날짜의 오프셋과 일치하는지 검증합니다.",
        "operationId": "updateTask",
        "parameters": [
          {
            "name": "taskId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TaskUpdateRequestV2"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "작업이 수정되었습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TaskResponseV2"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/schedules/{scheduleId}": {
      "get": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "일정 단건 조회 (작업 없이)",
        "operationId": "getSchedule",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "일정 단건 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleSimpleResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "일정 삭제 (작업 없이)",
        "operationId": "deleteSchedule",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "일정이 삭제되었습니다."
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "일정 수정 (작업 없이)",
        "operationId": "updateSchedule",
        "parameters": [
          {
            "name": "scheduleId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduleSimplePatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "일정이 수정되었습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleSimpleResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/tasks/cursor": {
      "get": {
        "tags": [
          "TaskV2"
        ],
        "summary": "작업 목록 커서 조회",
        "description": "마감 날짜(00:00:00) asc, id asc 커서 기반 페이지네이션.\n포함 대상: 미완료 작업 전체 + 오늘(회원 IANA 시간대 기준) 이후 또는 오늘 마감인 완료 작업.\ncursor 형식: 'YYYY-MM-DDTHH:MM:SS|taskId' (시간은 항상 00:00:00).\n",
        "operationId": "getTasksByCursor",
        "parameters": [
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "readyOnly",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false
            }
          }
        ],
        "responses": {
          "200": {
            "description": "커서 기반 작업 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TaskCursorPageResponseV2"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/tasks/completed": {
      "get": {
        "tags": [
          "TaskV2"
        ],
        "summary": "완료 + 마감일이 지난 작업 목록(커서)",
        "description": "오늘 00:00 기준 이전(어제까지) 마감일을 가진 완료 작업을 커서 기반으로 내려줍니다.\n정렬: deadline DESC, id DESC.\n커서 포맷: `yyyy-MM-dd|taskId` (예: `2025-01-07|42`). 기본은 회원의 IANA `zoneId`로 cutoff를 계산하며, 필요 시 동일 날짜의 `offset`을 함께 주면 검증에 사용합니다(레거시 옵션).\n첫 페이지 호출 시 cursor를 비우면 자동으로 cutoff 다음 날(`cutoff+1|Long.MAX_VALUE`)로 시작합니다.\n",
        "operationId": "getCompletedTasksArchive",
        "parameters": [
          {
            "name": "size",
            "in": "query",
            "description": "조회 크기 (1~100)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            },
            "example": 20
          },
          {
            "name": "cursor",
            "in": "query",
            "description": "커서 `yyyy-MM-dd|taskId` (예: 2025-01-07|42)",
            "required": false,
            "schema": {
              "type": "string"
            },
            "example": "2025-01-07|42"
          }
        ],
        "responses": {
          "200": {
            "description": "지난 작업 목록 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TaskArchiveCursorPageResponseV2"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/tasks/by-deadline": {
      "get": {
        "tags": [
          "TaskV2"
        ],
        "summary": "마감 날짜 기준 작업 조회",
        "description": "특정 로컬 날짜(YYYY-MM-DD)에 마감이 설정된 작업들을 조회합니다.\n기본적으로 회원에 설정된 IANA `zoneId`로 날짜를 해석하며, 요청에 `zoneId`를 주면 그 시간대를 사용합니다.\nDST/지역 변경에 안전하게 해석되도록 IANA 시간대를 표준으로 사용합니다.\n",
        "operationId": "getTasksByDeadline",
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "description": "마감 날짜",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date"
            },
            "example": "2025-02-01"
          }
        ],
        "responses": {
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/statistics": {
      "get": {
        "tags": [
          "StatisticsV2"
        ],
        "summary": "사용자 통계 조회",
        "description": "주어진 시점 기준 주간 통계를 조회합니다.",
        "operationId": "getStatistics",
        "parameters": [
          {
            "name": "time",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            }
          },
          {
            "name": "zoneId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "통계 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/StatisticsResponse"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "통계를 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/schedules/week": {
      "get": {
        "tags": [
          "ScheduleV2"
        ],
        "summary": "주간 일정 조회 (작업 없이)",
        "description": "주어진 날짜가 포함된 주간의 일정을 조회합니다.",
        "operationId": "getWeeklySchedules",
        "parameters": [
          {
            "name": "time",
            "in": "query",
            "description": "사용자 로컬 시각. 주차 계산의 기준 anchor.",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date-time"
            },
            "example": "2026-02-03T10:00:00"
          },
          {
            "name": "zoneId",
            "in": "query",
            "description": "IANA 시간대 ID",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "America/Los_Angeles"
          }
        ],
        "responses": {
          "200": {
            "description": "주간 일정 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ScheduleSimpleResponse"
                  }
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "현재 상태와 충돌했습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/members/zone-offset": {
      "get": {
        "tags": [
          "MemberV2"
        ],
        "summary": "사용자 시간대 조회(레거시)",
        "description": "사용자의 UTC 오프셋을 조회합니다. IANA `zoneId` 사용을 권장합니다.",
        "operationId": "getMemberZoneOffset",
        "responses": {
          "200": {
            "description": "사용자 시간대 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string",
                  "example": "+09:00"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/v2/members/zone-id": {
      "get": {
        "tags": [
          "MemberV2"
        ],
        "summary": "사용자 IANA 시간대 조회",
        "description": "사용자에 저장된 IANA 시간대(`zoneId`)를 조회합니다.",
        "operationId": "getMemberZoneId",
        "responses": {
          "200": {
            "description": "사용자 시간대 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string",
                  "example": "Asia/Seoul"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v2/members/now": {
      "get": {
        "tags": [
          "MemberV2"
        ],
        "summary": "현재 진행 중인 일정 ID 조회",
        "description": "사용자의 현재 진행 중인 일정 ID를 조회합니다.",
        "operationId": "getNowInProgressScheduleId",
        "responses": {
          "200": {
            "description": "현재 진행 중인 일정 ID 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/members/zone-offset": {
      "get": {
        "tags": [
          "MemberV1"
        ],
        "summary": "사용자 시간대 조회",
        "description": "사용자의 시간대를 조회합니다.",
        "operationId": "getMemberZoneOffset_1",
        "responses": {
          "200": {
            "description": "사용자 시간대 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string",
                  "example": "+09:00"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/v1/members/now": {
      "get": {
        "tags": [
          "MemberV1"
        ],
        "summary": "현재 진행 중인 일정 ID 조회",
        "description": "사용자의 현재 진행 중인 일정 ID를 조회합니다.",
        "operationId": "getNowInProgressScheduleId_1",
        "responses": {
          "200": {
            "description": "현재 진행 중인 일정 ID 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "대상을 찾을 수 없습니다.",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "서버 내부 오류",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/v0/zone-offset": {
      "get": {
        "tags": [
          "Member"
        ],
        "summary": "사용자 시간대 조회",
        "description": "사용자의 시간대를 조회합니다.",
        "operationId": "getMemberZoneOffset_2",
        "responses": {
          "200": {
            "description": "사용자 시간대 조회 성공",
            "content": {
              "*/*": {
                "schema": {
                  "type": "string",
                  "example": "+09:00"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    },
    "/v0/now": {
      "get": {
        "tags": [
          "Member"
        ],
        "summary": "현재 진행 중인 일정 ID 조회",
        "description": "사용자의 현재 진행 중인 일정 ID를 조회합니다.",
        "operationId": "getNowInProgressScheduleId_2",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "integer",
                  "format": "int64"
                }
              }
            }
          }
        },
        "deprecated": true
      }
    }
  },
  "components": {
    "schemas": {
      "DateWithOffset": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "format": "date",
            "description": "날짜",
            "example": "2024-03-01"
          },
          "offset": {
            "type": "string",
            "description": "UTC 기준 오프셋(+HH:mm). IANA `zoneId`로 계산된 값을 명시하고 싶을 때 선택적으로 포함",
            "example": "+09:00"
          },
          "zoneId": {
            "type": "string",
            "description": "IANA 시간대 ID (필수)",
            "example": "Asia/Seoul"
          }
        },
        "required": [
          "date",
          "zoneId"
        ]
      },
      "DependencyRequest": {
        "type": "object",
        "properties": {
          "fromId": {
            "type": "integer",
            "format": "int64",
            "description": "선행 작업 ID (새 작업 생성 시 자기 자신은 0, 수정 시 0 금지)",
            "example": 1
          },
          "toId": {
            "type": "integer",
            "format": "int64",
            "description": "후행 작업 ID (새 작업 생성 시 자기 자신은 0, 수정 시 0 금지)",
            "example": 2
          }
        },
        "required": [
          "fromId",
          "toId"
        ]
      },
      "TaskCreateRequestV2": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "작업 제목",
            "example": "스터디 준비",
            "minLength": 1
          },
          "description": {
            "type": "string",
            "description": "작업 설명",
            "example": "다음 주 발표 자료 정리",
            "minLength": 1
          },
          "dueDate": {
            "$ref": "#/components/schemas/DateWithOffset",
            "description": "마감 날짜(IANA `zoneId` 필수, `offset`은 해당 날짜의 오프셋을 함께 명시하고 싶을 때 선택)",
            "example": {
              "date": "2024-03-01",
              "offset": "+09:00",
              "zoneId": "Asia/Seoul"
            }
          },
          "importance": {
            "type": "integer",
            "format": "int32",
            "description": "중요도 (1~9)",
            "example": 5,
            "maximum": 9,
            "minimum": 1
          },
          "difficulty": {
            "type": "integer",
            "format": "int32",
            "description": "난이도 (피보나치 수: 1,2,3,5,8,13,21)",
            "example": 5
          },
          "addDependencies": {
            "type": "array",
            "description": "추가할 의존 관계 목록 (생성 시 각 항목에 fromId 또는 toId 중 하나는 0)",
            "items": {
              "$ref": "#/components/schemas/DependencyRequest"
            }
          }
        },
        "required": [
          "description",
          "difficulty",
          "dueDate",
          "importance",
          "title"
        ]
      },
      "TaskResponseV2": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "작업 ID",
            "example": 10
          },
          "ownerId": {
            "type": "integer",
            "format": "int64",
            "description": "회원 ID",
            "example": 3
          },
          "title": {
            "type": "string",
            "description": "작업 제목"
          },
          "description": {
            "type": "string",
            "description": "작업 설명"
          },
          "dueDate": {
            "$ref": "#/components/schemas/DateWithOffset",
            "description": "마감 날짜(+IANA 시간대, 00:00 시각). `offset`은 해당 날짜의 오프셋으로 반환됩니다."
          },
          "importance": {
            "type": "integer",
            "format": "int32",
            "description": "중요도"
          },
          "difficulty": {
            "type": "integer",
            "format": "int32",
            "description": "난이도"
          },
          "completed": {
            "type": "boolean",
            "description": "완료 여부"
          },
          "inboundDependencyCount": {
            "type": "integer",
            "format": "int32",
            "description": "들어오는 의존 관계 수"
          },
          "previousTaskIds": {
            "type": "array",
            "description": "선행 작업 ID 목록",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "nextTaskIds": {
            "type": "array",
            "description": "후행 작업 ID 목록",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성 시각"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "수정 시각"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "error": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "path": {
            "type": "string"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            }
          }
        }
      },
      "ValidationError": {
        "type": "object",
        "properties": {
          "field": {
            "type": "string"
          },
          "rejectedValue": { },
          "reason": {
            "type": "string"
          }
        }
      },
      "DateTimeWithZone": {
        "type": "object",
        "properties": {
          "dateTime": {
            "type": "string",
            "format": "date-time",
            "description": "사용자 로컬 시각(오프셋 없이). `toISOString()`이 아닌 로컬 기준 문자열을 사용",
            "example": "2026-02-01T10:00:00"
          },
          "zoneId": {
            "type": "string",
            "description": "IANA 시간대 ID",
            "example": "Asia/Seoul"
          }
        },
        "required": [
          "dateTime",
          "zoneId"
        ]
      },
      "TaskScheduleRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "일정 제목(미입력 시 작업 제목 사용)",
            "example": "오늘 할당된 작업"
          },
          "description": {
            "type": "string",
            "description": "일정 설명(미입력 시 작업 설명 사용)",
            "example": "할 일 설명"
          },
          "date": {
            "$ref": "#/components/schemas/DateTimeWithZone",
            "description": "일정 시작 시각",
            "example": {
              "dateTime": "2024-02-28T09:00:00",
              "zoneId": "Asia/Seoul"
            }
          },
          "scheduleType": {
            "type": "string",
            "description": "일정 유형",
            "enum": [
              "DEEP_WORK",
              "QUICK_TASK",
              "ADMIN_TASK"
            ],
            "example": "DEEP_WORK"
          }
        },
        "required": [
          "date",
          "scheduleType"
        ]
      },
      "ScheduleSimpleResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64",
            "description": "일정 ID",
            "example": 10
          },
          "ownerId": {
            "type": "integer",
            "format": "int64",
            "description": "회원 ID",
            "example": 3
          },
          "taskId": {
            "type": "integer",
            "format": "int64",
            "description": "연결된 작업 ID",
            "example": 7
          },
          "taskCompleted": {
            "type": "boolean",
            "description": "연결된 작업 완료 여부",
            "example": true
          },
          "title": {
            "type": "string",
            "description": "일정 제목"
          },
          "description": {
            "type": "string",
            "description": "일정 설명"
          },
          "date": {
            "$ref": "#/components/schemas/DateTimeWithZone",
            "description": "일정 시작 예정 시각"
          },
          "scheduleType": {
            "type": "string",
            "description": "일정 유형"
          },
          "duration": {
            "type": "string",
            "description": "누적 작업 시간"
          },
          "state": {
            "type": "string",
            "description": "현재 상태"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "description": "생성 시각"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "수정 시각"
          }
        }
      },
      "ScheduleSimpleRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "일정 제목",
            "example": "팀 회의",
            "minLength": 1
          },
          "description": {
            "type": "string",
            "description": "일정 설명",
            "example": "분기 OKR 리뷰",
            "minLength": 1
          },
          "date": {
            "$ref": "#/components/schemas/DateTimeWithZone",
            "description": "일정 시작 시각",
            "example": {
              "dateTime": "2024-02-28T09:00:00",
              "zoneId": "Asia/Seoul"
            }
          },
          "scheduleType": {
            "type": "string",
            "description": "일정 유형",
            "enum": [
              "DEEP_WORK",
              "QUICK_TASK",
              "ADMIN_TASK"
            ],
            "example": "DEEP_WORK"
          }
        },
        "required": [
          "date",
          "description",
          "scheduleType",
          "title"
        ]
      },
      "TaskUpdateRequestV2": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "작업 제목",
            "example": "스터디 준비",
            "minLength": 1
          },
          "description": {
            "type": "string",
            "description": "작업 설명",
            "example": "다음 주 발표 자료 정리",
            "minLength": 1
          },
          "dueDate": {
            "$ref": "#/components/schemas/DateWithOffset",
            "description": "마감 날짜(IANA `zoneId` 필수, `offset`은 해당 날짜의 오프셋을 함께 명시하고 싶을 때 선택)",
            "example": {
              "date": "2024-03-01",
              "offset": "+09:00",
              "zoneId": "Asia/Seoul"
            }
          },
          "importance": {
            "type": "integer",
            "format": "int32",
            "description": "중요도 (1~9)",
            "example": 5,
            "maximum": 9,
            "minimum": 1
          },
          "difficulty": {
            "type": "integer",
            "format": "int32",
            "description": "난이도 (피보나치 수: 1,2,3,5,8,13,21)",
            "example": 5
          },
          "removeDependencies": {
            "type": "array",
            "description": "제거할 의존 관계 목록 (수정 시 0 사용 금지)",
            "items": {
              "$ref": "#/components/schemas/DependencyRequest"
            }
          },
          "addDependencies": {
            "type": "array",
            "description": "추가할 의존 관계 목록 (수정 시 0 사용 금지)",
            "items": {
              "$ref": "#/components/schemas/DependencyRequest"
            }
          }
        },
        "required": [
          "description",
          "difficulty",
          "dueDate",
          "importance",
          "title"
        ]
      },
      "ScheduleSimplePatchRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "일정 제목",
            "example": "팀 회의"
          },
          "description": {
            "type": "string",
            "description": "일정 설명",
            "example": "분기 OKR 리뷰"
          },
          "date": {
            "$ref": "#/components/schemas/DateTimeWithZone",
            "description": "일정 시작 시각",
            "example": {
              "dateTime": "2024-02-28T09:00:00",
              "zoneId": "Asia/Seoul"
            }
          },
          "scheduleType": {
            "type": "string",
            "description": "일정 유형",
            "enum": [
              "DEEP_WORK",
              "QUICK_TASK",
              "ADMIN_TASK"
            ],
            "example": "DEEP_WORK"
          }
        }
      },
      "PageTaskResponseV2": {
        "type": "object",
        "properties": {
          "totalElements": {
            "type": "integer",
            "format": "int64"
          },
          "totalPages": {
            "type": "integer",
            "format": "int32"
          },
          "first": {
            "type": "boolean"
          },
          "last": {
            "type": "boolean"
          },
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TaskResponseV2"
            }
          },
          "number": {
            "type": "integer",
            "format": "int32"
          },
          "sort": {
            "$ref": "#/components/schemas/SortObject"
          },
          "numberOfElements": {
            "type": "integer",
            "format": "int32"
          },
          "pageable": {
            "$ref": "#/components/schemas/PageableObject"
          },
          "empty": {
            "type": "boolean"
          }
        }
      },
      "PageableObject": {
        "type": "object",
        "properties": {
          "offset": {
            "type": "integer",
            "format": "int64"
          },
          "sort": {
            "$ref": "#/components/schemas/SortObject"
          },
          "paged": {
            "type": "boolean"
          },
          "pageNumber": {
            "type": "integer",
            "format": "int32"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          },
          "unpaged": {
            "type": "boolean"
          }
        }
      },
      "SortObject": {
        "type": "object",
        "properties": {
          "empty": {
            "type": "boolean"
          },
          "sorted": {
            "type": "boolean"
          },
          "unsorted": {
            "type": "boolean"
          }
        }
      },
      "TaskCursorPageResponseV2": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "description": "작업 목록",
            "items": {
              "$ref": "#/components/schemas/TaskResponseV2"
            }
          },
          "nextCursor": {
            "type": "string",
            "description": "다음 페이지 요청 시 사용할 커서. 더 이상 데이터가 없으면 null"
          },
          "hasNext": {
            "type": "boolean",
            "description": "다음 페이지 존재 여부"
          }
        }
      },
      "TaskArchiveCursorPageResponseV2": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "description": "지난 작업 목록",
            "items": {
              "$ref": "#/components/schemas/TaskResponseV2"
            }
          },
          "nextCursor": {
            "type": "string",
            "description": "다음 페이지 요청 시 사용할 커서. 더 이상 데이터가 없으면 null"
          },
          "hasNext": {
            "type": "boolean",
            "description": "다음 페이지 존재 여부"
          }
        }
      },
      "StatisticsResponse": {
        "type": "object",
        "description": "사용자 주간 통계 응답 DTO",
        "properties": {
          "memberId": {
            "type": "integer",
            "format": "int64",
            "description": "회원 ID"
          },
          "startOfWeek": {
            "$ref": "#/components/schemas/DateTimeWithZone",
            "description": "통계 기준 주간의 시작 시각"
          },
          "deepWorkElapsedTime": {
            "type": "string",
            "description": "딥 워크 누적 시간"
          },
          "adminWorkElapsedTime": {
            "type": "string",
            "description": "관리 업무 누적 시간"
          },
          "totalWorkElapsedTime": {
            "type": "string",
            "description": "총 작업 누적 시간"
          }
        }
      }
    }
  }
}