# 프론트/백엔드 검증 책임 가이드

## 프론트엔드에서 즉시 검증해야 하는 항목
- **필수 입력값 확인**: 제목, 설명, 일정 타입, 시작/마감 시간, 중요도, 긴급도는 폼 제출 전에 즉시 검증합니다.
- **시간 관계**: 마감 시간이 시작 시간보다 빠른지 여부를 체크하고 에러 메시지를 필드 하단에 즉시 표시합니다.
- **범위 제약**: 중요도/긴급도는 1~9 범위를 벗어나면 입력을 막거나 에러 메시지를 노출합니다.
- **의존성 선택 충돌**: 동일한 일정을 이전/이후에 동시에 추가하지 못하도록 폼에서 즉시 제거합니다.
- **버튼 상태 제어**: 일정 상세 화면의 시작/완료/취소 버튼은 현재 state에 따라 비활성화하여 사용자가 불가능한 액션을 시도하지 않도록 합니다.

## 백엔드에서 최종 검증해야 하는 항목
- **의존성 사이클/순서 정합성**: 그래프 순환, 이미 완료된 일정과의 충돌 등 복잡한 규칙은 서버에서 최종 판단합니다.
- **동시 실행 제약**: 사용자가 동시에 두 개 이상의 일정을 시작하지 못하도록 서버에서 최종 확인하고 409 등을 반환합니다.
- **시간대/리소스 충돌**: 사용자의 다른 일정과 시간이 겹치거나 권한이 없는 일정은 서버에서 거절합니다.

## 에러 메시지/표시 정책
1. **프론트 검증 실패**: 폼 필드 하단에 짧은 한국어 문구로 바로 표시하고 서버 요청을 보내지 않습니다.
2. **백엔드 검증 실패**: 서버가 내려준 메시지를 상단 배너 또는 토스트로 보여주고, 가능한 경우 문제 필드에 보조 메시지를 덧붙입니다.
3. **충돌(409) 시 공통 문구**: “현재 상태에서는 이 동작을 할 수 없어요.” 프리픽스를 붙이고, 서버 메시지를 이어서 보여줍니다.

## 적용 위치 요약
| 화면 | 프론트 즉시 검증 | 백엔드 위임 | 에러 노출 위치 |
| --- | --- | --- | --- |
| 일정 추가/수정 폼 | 필수값, 시간, 범위, 의존성 중복 | 사이클, 일정 충돌 | 필드 하단 + 상단 배너 |
| 일정 상세 액션 | 버튼 활성/비활성 | 동시에 하나만 실행, 상태 전이 규칙 | 배너/토스트 |
| 일정 목록 탭 | 날짜 선택 범위, 파란 점 렌더 | 실제 일정 존재 여부 | 리스트 영역 배너 |

